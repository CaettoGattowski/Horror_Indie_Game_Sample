[gd_scene load_steps=17 format=4 uid="uid://d2ebiuq7xaskj"]

[ext_resource type="PackedScene" uid="uid://u5wdytor1u5u" path="res://Interactables/interact_generic.tscn" id="1_cpjwb"]
[ext_resource type="Script" uid="uid://dpgr7qg0231tm" path="res://Interactables/door.gd" id="2_l3a2p"]
[ext_resource type="Texture2D" uid="uid://dm451yjqk57gp" path="res://Assets/MyModels/wood_2.png" id="2_pyvbm"]
[ext_resource type="AudioStream" uid="uid://d33jsdwm5o687" path="res://Assets/Sounds/doorOpen_1.ogg" id="4_y2l8b"]
[ext_resource type="AudioStream" uid="uid://ckom2j8rn4tr2" path="res://Assets/Sounds/doorClose_1.ogg" id="5_2d826"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ehr04"]
resource_name = "wood_2.001"
cull_mode = 2
albedo_texture = ExtResource("2_pyvbm")
roughness = 0.0

[sub_resource type="ArrayMesh" id="ArrayMesh_pxyt6"]
_surfaces = [{
"aabb": AABB(-0.35727292, -3.1074367, -2.0820765, 0.7457489, 6.2148724, 4.164153),
"format": 34359742465,
"index_count": 120,
"index_data": PackedByteArray("AAABAAIAAAACAAMAAgABAAQAAQAFAAQAAQAGAAUABAAFAAcACAAGAAEAAAAIAAEACAAJAAYACgAHAAkACgAJAAgABAAHAAoAAgAEAAsACwAEAAoACwADAAIADAAKAAgACwAKAAwADAAIAAAADQALAAwADQAMAAAACwAOAAMADQAOAAsAAAADAA8ADQAAAA8ADgAQAAMADQARAA4ADgARABAADwASAA0ADQASABEAAwATAA8AAwAQABMADwATABIAEQAUABAAEAAUABUAEAAVABMAEQAWABQAEgAWABEAEwAVABcAEgAXABYAEwAXABIA"),
"name": "wood_2.001",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("UubGPjrgRkC+QAXAwrGsPs6TK0CT7OU/UubGPjrgRkC+QAVAeuy2vjrgRkC+QAVAwrGsPtKTK8CT7OU/wHY1PdKTK8CT7OU/wHY1Pc6TK0CT7OU/wHY1PdKTK8CU7OW/wrGsPs6TK0CU7OW/wHY1Pc6TK0CU7OW/wrGsPtKTK8CU7OW/UubGPj7gRsC+QAVAUubGPj7gRsC+QAXAeuy2vj7gRsC+QAXAeuy2vj7gRsC+QAVAeuy2vjrgRkC+QAXA6becvs6TK0CT7OU/6becvtKTK8CT7OU/6becvtKTK8CU7OW/6becvs6TK0CU7OW/EIravc6TK0CT7OU/EIravc6TK0CU7OW/EIravdKTK8CT7OU/EIravdKTK8CU7OW/")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_jukbf"]
resource_name = "Door_Cube_006"
_surfaces = [{
"aabb": AABB(-0.35727292, -3.1074367, -2.0820765, 0.7457489, 6.2148724, 4.164153),
"attribute_data": PackedByteArray("XtJAP17SID9e0kA/EG35PV7SQD8Qbfk9XtJAP17SID8WKAY++LC9P/p1Xj/6dT4/+nVeP/iwvT8WKAY++nU+P4a2fD447sS+XtJAPzjuxL5e0kA/OO7Evoa2fD447sS+FigGPgADxTv6dV4/8GE7v/p1Xj8AA8U7FigGPvBhO7/wYRu/+nU+PxYoBj4AA8U7FigGPvp1Pj/wYRu/AAPFO/p1Xj/6dT4/+LDNPwADxTv4sM0/+nU+P/p1Xj8AA8U7OO6Evl7SID847oS+EG35PTjuhL4Qbfk9OO6Evl7SID9e0kA/EG35PYa2fD4Qbfk9hrZ8PhBt+T1e0kA/EG35PYa2fD5e0iA/XtJAP17SID9e0kA/XtIgP4a2fD5e0iA/jjuhPxBt+T2OO6E/XtIgP447oT9e0iA/jjuhPxBt+T047oS+XtIgPzjuhL4Qbfk9OO6EvhBt+T047oS+XtIgP17SQD8Qbfk9hrZ8PhBt+T2Gtnw+EG35PV7SQD8Qbfk9hrZ8PhBt+T2Gtnw+XtIgP4a2fD5e0iA/hrZ8PhBt+T1e0kA/jjuRP4a2fD6OO5E/hrZ8Po47kT9e0kA/jjuRP4a2fD4Qbfk9hrZ8Pl7SID+Gtnw+XtIgP4a2fD4Qbfk9XtJAP17SID9e0kA/EG35PV7SQD8Qbfk9XtJAP17SID+Gtnw+XtIgP17SQD9e0iA/XtJAP17SID+Gtnw+XtIgP17SQD+OO5E/hrZ8Po47kT+Gtnw+jjuRP17SQD+OO5E/hrZ8PjjuxL5e0kA/OO7Evl7SQD847sS+hrZ8PjjuxL6OO6E/EG35PY47oT9e0iA/jjuhP17SID+OO6E/EG35PQ=="),
"format": 34359742487,
"index_count": 120,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAFAAYABAAHAAUACAAJAAoACAALAAkADAANAA4ADAAPAA0AEAARABIAEAATABEAFAAVABYAFAAXABUAGAAZABoAGAAbABkAHAAdAB4AHAAfAB0AIAAhACIAIAAjACEAJAAlACYAJAAnACUAKAApACoAKAArACkALAAtAC4ALAAvAC0AMAAxADIAMAAzADEANAA1ADYANAA3ADUAOAA5ADoAOAA7ADkAPAA9AD4APAA/AD0AQABBAEIAQABDAEEARABFAEYARABHAEUASABJAEoASABLAEkATABNAE4ATABPAE0A"),
"material": SubResource("StandardMaterial3D_ehr04"),
"name": "wood_2.001",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 80,
"vertex_data": PackedByteArray("UubGPjrgRkC+QAXAwrGsPs6TK0CT7OU/UubGPjrgRkC+QAVAwrGsPs6TK0CU7OW/euy2vj7gRsC+QAXAUubGPjrgRkC+QAXAeuy2vjrgRkC+QAXAUubGPj7gRsC+QAXAeuy2vj7gRsC+QAVA6becvs6TK0CT7OU/euy2vjrgRkC+QAVA6becvtKTK8CT7OU/UubGPj7gRsC+QAVAeuy2vjrgRkC+QAVAUubGPjrgRkC+QAVAeuy2vj7gRsC+QAVAeuy2vj7gRsC+QAXAUubGPj7gRsC+QAVAUubGPj7gRsC+QAXAeuy2vj7gRsC+QAVAUubGPjrgRkC+QAXAeuy2vjrgRkC+QAVAeuy2vjrgRkC+QAXAUubGPjrgRkC+QAVA6becvtKTK8CU7OW/EIravdKTK8CT7OU/6becvtKTK8CT7OU/EIravdKTK8CU7OW/wrGsPs6TK0CT7OU/wHY1PdKTK8CT7OU/wrGsPtKTK8CT7OU/wHY1Pc6TK0CT7OU/UubGPj7gRsC+QAXAwrGsPs6TK0CU7OW/UubGPjrgRkC+QAXAwrGsPtKTK8CU7OW/euy2vjrgRkC+QAVA6becvs6TK0CU7OW/euy2vjrgRkC+QAXA6becvs6TK0CT7OU/euy2vj7gRsC+QAXA6becvtKTK8CT7OU/euy2vj7gRsC+QAVA6becvtKTK8CU7OW/UubGPjrgRkC+QAVAwrGsPtKTK8CT7OU/UubGPj7gRsC+QAVAwrGsPs6TK0CT7OU/UubGPj7gRsC+QAVAwrGsPtKTK8CU7OW/UubGPj7gRsC+QAXAwrGsPtKTK8CT7OU/euy2vjrgRkC+QAXA6becvtKTK8CU7OW/euy2vj7gRsC+QAXA6becvs6TK0CU7OW/wrGsPtKTK8CT7OU/wHY1PdKTK8CU7OW/wrGsPtKTK8CU7OW/wHY1PdKTK8CT7OU/wrGsPs6TK0CU7OW/wHY1Pc6TK0CT7OU/wrGsPs6TK0CT7OU/wHY1Pc6TK0CU7OW/wrGsPtKTK8CU7OW/wHY1Pc6TK0CU7OW/wrGsPs6TK0CU7OW/wHY1PdKTK8CU7OW/6becvs6TK0CU7OW/EIravdKTK8CU7OW/6becvtKTK8CU7OW/EIravc6TK0CU7OW/6becvtKTK8CT7OU/EIravc6TK0CT7OU/6becvs6TK0CT7OU/EIravdKTK8CT7OU/6becvs6TK0CT7OU/EIravc6TK0CU7OW/6becvs6TK0CU7OW/EIravc6TK0CT7OU/SfJJcv///79J8kly////v0nySXL///+/SfJJcv///7///////3//////////f/////////9//////////3///wAAcZP///+/AABxk////78AAHGT////vwAAcZP///+//3//f/9/////f/9//3////9//3//f////3//f/9/////fwAA////v/9/AAD///+//38AAP///7//fwAA////v/9///8AAP+//3///wAA/7//f///AAD/v/9///8AAP+//3///////7//f///////v/9///////+//3///////7//////////v/////////+//////////7//////////v43s/3////8/jez/f////z+N7P9/////P43s/3////8/tQ1Jcv///7+1DUly////v7UNSXL///+/tQ1Jcv///7+1DbWN////v7UNtY3///+/tQ21jf///7+1DbWN////v///cZP///+///9xk////7///3GT////v///cZP///+/SfK1jf///79J8rWN////v0nytY3///+/SfK1jf///79xE/9/////P3ET/3////8/cRP/f////z9xE/9/////P/9///////+//3///////7//f///////v/9///////+//38AAP///7//fwAA////v/9/AAD///+//38AAP///7//f/9/////P/9//3////8//3//f////z//f/9/////P/9//3////8//3//f////z//f/9/////P/9//3////8//////////7//////////v/////////+//////////7//fwAA////v/9/AAD///+//38AAP///7//fwAA////vw==")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_pxyt6")

[sub_resource type="ArrayMesh" id="ArrayMesh_ko354"]
_surfaces = [{
"aabb": AABB(-0.15104884, -2.9402552, -0.0066045523, 0.15101135, 5.3617935, 3.5925646),
"format": 34896613377,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAgABAAMAAAAEAAEAAgADAAUAAAACAAUAAQAGAAMAAQAEAAYABgAFAAMABAAAAAcABAAHAAYAAAAFAAcABgAHAAUA"),
"name": "wood_2.001",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("//8AAAAAAAD///////8AAP////8AAAAAAAD/////AAD//wAA//8AAAAA//8AAAAAAAAAAP//AAAAAAAAAAAAAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_uqedt"]
resource_name = "Door_Cube_007"
_surfaces = [{
"aabb": AABB(-0.15104884, -2.9402552, -0.0066045523, 0.15101135, 5.3617935, 3.5925646),
"attribute_data": PackedByteArray("RBA/DiTueuwWEE3sUe5tDiXzw+ecEbIG6fJ1BtgR/+f/n/9//5////+f/7//n/8//1//f/+f/7//X/+//5//f/+f/z//X////5////9f/z//X/8//1//v/9f////X/9/"),
"format": 34896613399,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAFAAYABAAHAAUACAAJAAoACAALAAkADAANAA4ADAAPAA0AEAARABIAEAATABEAFAAVABYAFAAXABUA"),
"material": SubResource("StandardMaterial3D_ehr04"),
"name": "wood_2.001",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("//8AAAAA9v/////////2//////8AAPb///8AAP//9v8AAAAA////vwAA//8AAP+/AAD//////78AAAAAAAD/v/////8AAP+/AAD//////78AAP//AAD/v/////////+///8AAAAA//8AAP//AAD//wAAAAAAAP///////wAA////////////PwAAAAD///8/AAD//////z///wAA////P///AAD///+/AAAAAAAA/78AAAAA////v///AAAAAP+/+r/1f/q/9X/6v/V/+r/1f+Z/zP/mf8z/5n/M/+Z/zP////9/////f////3////9//7//v/+//7//v/+//7//v/////////////////////8AAP9/AAD/fwAA/38AAP9/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ko354")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_pyvbm"]
data = PackedVector3Array(0, -2.9403, -0.0066, 0, 2.4215, 3.586, 0, 2.4215, -0.0066, 0, -2.9403, -0.0066, 0, -2.9403, 3.586, 0, 2.4215, 3.586, -0.151, -2.9403, 3.586, -0.151, 2.4215, -0.0066, -0.151, 2.4215, 3.586, -0.151, -2.9403, 3.586, -0.151, -2.9403, -0.0066, -0.151, 2.4215, -0.0066, 0, 2.4215, -0.0066, -0.151, 2.4215, 3.586, -0.151, 2.4215, -0.0066, 0, 2.4215, -0.0066, 0, 2.4215, 3.586, -0.151, 2.4215, 3.586, 0, -2.9403, -0.0066, -0.151, 2.4215, -0.0066, -0.151, -2.9403, -0.0066, 0, -2.9403, -0.0066, 0, 2.4215, -0.0066, -0.151, 2.4215, -0.0066, 0, 2.4215, 3.586, -0.151, -2.9403, 3.586, -0.151, 2.4215, 3.586, 0, 2.4215, 3.586, 0, -2.9403, 3.586, -0.151, -2.9403, 3.586, 0, -2.9403, 3.586, -0.151, -2.9403, -0.0066, -0.151, -2.9403, 3.586, 0, -2.9403, 3.586, 0, -2.9403, -0.0066, -0.151, -2.9403, -0.0066)

[sub_resource type="Animation" id="Animation_ps0d7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door/DoorFrame/DoorInside:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_l3a2p"]
resource_name = "door_close"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door/DoorFrame/DoorInside:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -1.3184043, 0), Vector3(0, 0, 0)]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SoundsDoor")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [],
"times": PackedFloat32Array()
}
tracks/1/use_blend = true
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SoundsDoor:stream")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("5_2d826")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SoundsDoor:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.26666668),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_y2l8b"]
resource_name = "door_locked"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door/DoorFrame/DoorInside:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.15, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0.017453292, 0), Vector3(0, 0.034906585, 0), Vector3(0, 0.017453292, 0), Vector3(0, 0, 0)]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SoundsDoor")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [],
"times": PackedFloat32Array()
}
tracks/1/use_blend = true
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SoundsDoor:stream")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("5_2d826")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SoundsDoor:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.1),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_pyvbm"]
resource_name = "door_open"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door/DoorFrame/DoorInside:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -1.4835298, 0)]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SoundsDoor")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [],
"times": PackedFloat32Array()
}
tracks/1/use_blend = true
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SoundsDoor:stream")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("4_y2l8b")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SoundsDoor:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_y2l8b"]
_data = {
&"RESET": SubResource("Animation_ps0d7"),
&"door_close": SubResource("Animation_l3a2p"),
&"door_locked": SubResource("Animation_y2l8b"),
&"door_open": SubResource("Animation_pyvbm")
}

[node name="Door" instance=ExtResource("1_cpjwb")]
script = ExtResource("2_l3a2p")
isLocked = false
keyPath = null
type = "Bedroom Door"

[node name="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1.6, 0, 0, 0, 1.6, 0, 0, 0, 1.6, 0.54244995, 5.6769695, 0.207214)

[node name="Door" type="Node3D" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5088694, -2.3841858e-07, -0.8767561)

[node name="DoorFrame" type="MeshInstance3D" parent="Door" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.1058774, 5.6137605, 1.0868431)
mesh = SubResource("ArrayMesh_jukbf")
skeleton = NodePath("")

[node name="DoorInside" type="MeshInstance3D" parent="Door/DoorFrame" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.044340134, 0.25935793, -1.7896777)
mesh = SubResource("ArrayMesh_uqedt")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="Door/DoorFrame/DoorInside" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door/DoorFrame/DoorInside/StaticBody3D" index="0"]
shape = SubResource("ConcavePolygonShape3D_pyvbm")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="2"]
libraries = {
&"": SubResource("AnimationLibrary_y2l8b")
}

[node name="SoundsDoor" type="AudioStreamPlayer3D" parent="." index="3"]

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
